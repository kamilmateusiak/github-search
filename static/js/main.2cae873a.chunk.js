(this["webpackJsonpgithub-search"]=this["webpackJsonpgithub-search"]||[]).push([[0],{27:function(e,t,r){e.exports=r(53)},32:function(e,t,r){},53:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(19),i=r.n(s),o=(r(32),r(33),r(2));var c={name:"b0dycv",styles:"min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;"},u={name:"1n286ra",styles:"max-width:900px;width:100%;margin:20px auto;padding:0 30px;"},l={name:"iif40d",styles:"background-color:#414141;width:100%;color:#d9b792;"},b={name:"8atqhb",styles:"width:100%;"},d={name:"1mohtgr",styles:"text-transform:uppercase;font-weight:700;"},p=r(0),g=function(e){return Object(p.a)("div",{css:c},Object(p.a)("header",{css:l},Object(p.a)("div",{css:u},Object(p.a)("h1",{css:d},e.title),e.header)),Object(p.a)("main",{css:b},Object(p.a)("div",{css:u},e.children)))},h=r(9),j=r(7);function m(){var e=Object(h.a)(["\n  0% {\n    background-position: 100% 50%;\n  }\n\n  100% {\n    background-position: 0 50%;\n  }\n"]);return m=function(){return e},e}var f={name:"1lz15hj",styles:"margin:0;margin-bottom:10px;"},O={name:"1jfvg9w",styles:"align-items:flex-start;"},v={name:"q2y3yl",styles:"color:inherit;"},x=Object(p.b)(m()),y=Object(o.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#dde2e6",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05;return Object(o.a)("background-image:linear-gradient( 90deg,",Object(j.a)(t,e)," 25%,",e," 37%,",Object(j.a)(t,e)," 63% );animation:",x," 1.4s ease infinite;background-size:400% 100%;")}()," height:14px;margin-top:5px;width:200px;");var w={name:"17mrx6g",styles:"padding:0;margin:0;list-style:none;"},k=Object(o.a)(""),S=function(e){return Object(p.a)("ul",{css:w},e.children)},C=function(e){return Object(p.a)("li",{css:k},e.children)};var L={name:"5rmrew",styles:"display:flex;align-items:center;flex-direction:column;justify-content:center;border:1px solid #e2e2e2;border-radius:4px;padding:20px;box-sizing:border-box;color:#414141;margin:10px 0;transition:1s ease-in-out all;"},z=function(e){var t=e.cssStyles,r=e.isLoading,n=e.children,a=e.error,s=e.isEmpty,i=e.loadingState;return r?Object(p.a)("div",{css:Object(o.a)([L,t],";label:ContentBox;")},i||"Loading"):a?Object(p.a)("div",{css:Object(o.a)([L,t],";label:ContentBox;")},a):s?Object(p.a)("div",{css:Object(o.a)([L,t],";label:ContentBox;")},"Empty"):Object(p.a)("div",{css:Object(o.a)([L,t],";label:ContentBox;")},n)},U=function(){return Object(p.a)(S,null,Object(p.a)("h4",{css:f},"Most popular repositories:"),Object(p.a)("div",{css:y}),Object(p.a)("div",{css:y}),Object(p.a)("div",{css:y}))},E=function(e){var t=e.repos,r=e.isLoading,n=e.error;return Object(p.a)(z,{cssStyles:O,isLoading:r,error:n,isEmpty:!t||0===t.length,loadingState:Object(p.a)(U,null)},Object(p.a)("h4",{css:f},"Most popular repositories:"),Object(p.a)(S,null,t&&t.map((function(e){return Object(p.a)(C,{key:e.id},Object(p.a)("a",{css:v,href:e.url},e.name),"(",e.starsCount,")")}))))};function q(){var e=Object(h.a)(["\n  0% {\n    background-position: 100% 50%;\n  }\n\n  100% {\n    background-position: 0 50%;\n  }\n"]);return q=function(){return e},e}var _,B={name:"101zow6",styles:"width:200px;height:200px;border-radius:100px;border:1px solid #e2e2e2;"},F={name:"1mi5qty",styles:"color:#414141;font-weight:normal;margin:0;margin-top:10px;"},P={name:"1h6b6rl",styles:"height:14px;width:200px;margin:0 auto;margin-top:10px;"},I={name:"bizuqa",styles:"color:#414141;margin:0;margin-top:10px;"},M={name:"1wzlo7j",styles:"height:14px;max-width:400px;width:100%;margin:0 auto;margin-top:10px;"},R=Object(p.b)(q()),T=Object(o.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#dde2e6",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.05;return Object(o.a)("background-image:linear-gradient( 90deg,",Object(j.a)(t,e)," 25%,",e," 37%,",Object(j.a)(t,e)," 63% );animation:",R," 1.4s ease infinite;background-size:400% 100%;")}(),""),N=function(){return Object(p.a)(a.a.Fragment,null,Object(p.a)("div",{css:Object(o.a)([B,T],";label:UserInfoSkeleton;")}),Object(p.a)("div",{css:Object(o.a)([F,P,T],";label:UserInfoSkeleton;")}),Object(p.a)("div",{css:Object(o.a)([I,M,T],";label:UserInfoSkeleton;")}))},G=function(e){var t=e.user,r=e.error,n=e.isLoading;return Object(p.a)(z,{isLoading:n,error:r,isEmpty:!t,loadingState:Object(p.a)(N,null)},t&&Object(p.a)(a.a.Fragment,null,t.avatarUrl&&Object(p.a)("a",{href:t.url},Object(p.a)("img",{css:B,src:t.avatarUrl,alt:"".concat(t.name," avatar")})),Object(p.a)("h5",{css:F},t.name||t.login),t.description&&Object(p.a)("p",{css:I},t.description)))},J=r(21),W=r(8),$=r(26),A=r(22),D=r.n(A);!function(e){e.Text="14px"}(_||(_={}));var H=Object(o.a)("font-size:",_.Text,";box-sizing:border-box;display:flex;text-align:left;flex-wrap:wrap;align-items:flex-start;margin-bottom:20px;input{display:block;width:100%;border:1px solid #fff;color:#fff;border-radius:4px;margin:0;padding:10px;box-sizing:border-box;background-color:transparent;margin-top:10px;}"),K=function(e){var t=e.label,r=e.onChange,n=e.name,a=e.value;return Object(p.a)("label",{css:H},t,Object(p.a)("input",{type:"text",name:n,value:a,onChange:r}))},Q=function(e){var t=e.onChange,r=e.delay,a=Object($.a)(e,["onChange","delay"]),s=Object(n.useState)(""),i=Object(W.a)(s,2),o=i[0],c=i[1],u=Object(n.useRef)(D()(t,r)),l=Object(n.useCallback)((function(e){var t=e.target.value;c(t),u.current(t)}),[c]);return Object(p.a)(K,Object(J.a)({},a,{value:o,onChange:l}))};Q.defaultProps={delay:500};var V,X=Q,Y=r(4),Z=r(5),ee=r.n(Z),te=r(23),re=r(24),ne=r(25),ae=r.n(ne);!function(e){e[e.Success=200]="Success",e[e.NotFound=404]="NotFound"}(V||(V={}));var se=new(function(){function e(){Object(te.a)(this,e),this.api=void 0,this.api=ae.a.create({baseURL:"https://api.github.com"})}return Object(re.a)(e,[{key:"request",value:function(e){var t,r;return ee.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={result:null,error:null},n.prev=1,n.next=4,ee.a.awrap(this.api.request(e));case 4:(r=n.sent).status!==V.Success?t.error=new Error(r.statusText):t.result=r.data,n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.error=n.t0;case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}}),null,this,[[1,8]])}},{key:"get",value:function(e){return this.request({method:"GET",url:e})}}]),e}());function ie(e){if(!e)return null;var t=e.id,r=e.name;return{id:t,login:e.login,name:r,email:e.email,url:e.html_url,apiUrls:{repos:e.repos_url},avatarUrl:e.avatar_url,description:e.bio}}function oe(e){if(!e||null===e)return[];return e.map((function(e){return function(e){return e?{id:e.id,name:e.name,language:e.language,isPrivate:e.private,starsCount:e.stargazers_count,watchersCount:e.watchers_count,url:e.html_url,fullName:e.full_name}:null}(e)})).filter((function(e){return null!==e}))}var ce={findUser:function(e){var t,r;return ee.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",{result:null,error:new Error("Please provide user login")});case 2:return t="/users/".concat(e),n.next=5,ee.a.awrap(se.get(t));case 5:return r=n.sent,n.abrupt("return",Object(Y.a)({},r,{result:ie(r.result)}));case 7:case"end":return n.stop()}}))},getMostPopularRepos:function(e){var t,r;return ee.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",{result:null,error:new Error("Please provide user login")});case 2:return t="/search/repositories?q=user:".concat(e,"&sort=stars&order=desc&per_page=3"),n.next=5,ee.a.awrap(se.get(t));case 5:return r=n.sent,n.abrupt("return",Object(Y.a)({},r,{result:oe(r.result&&r.result.items)}));case 7:case"end":return n.stop()}}))}},ue={isLoading:!1,error:null,user:null},le={isLoading:!1,error:null,repos:null};var be=function(){var e=Object(n.useState)(ue),t=Object(W.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(le),i=Object(W.a)(s,2),o=i[0],c=i[1];return{userState:r,reposState:o,handleSearch:Object(n.useCallback)((function(e){if(""===e)return a(ue),void c(le);a(Object(Y.a)({},ue,{isLoading:!0})),c(Object(Y.a)({},le,{isLoading:!0})),ce.findUser(e).then((function(t){if(t.error)return a(Object(Y.a)({},ue,{error:t.error.message})),void c(Object(Y.a)({},le));t.result&&(a(Object(Y.a)({},ue,{user:t.result})),ce.getMostPopularRepos(e).then((function(e){e.error?c(Object(Y.a)({},le,{error:e.error.message})):e.result&&c(Object(Y.a)({},le,{repos:e.result}))})))}))}),[a,c])}},de=function(){var e=be(),t=e.userState,r=e.reposState,n=e.handleSearch;return Object(p.a)(g,{title:"Github search",header:Object(p.a)(X,{onChange:n,name:"Search",label:"Find user"})},Object(p.a)(a.a.Fragment,null,Object(p.a)(G,{user:t.user,isLoading:t.isLoading,error:t.error}),t.user&&Object(p.a)(E,{repos:r.repos,isLoading:r.isLoading,error:r.error})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(p.a)(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.2cae873a.chunk.js.map